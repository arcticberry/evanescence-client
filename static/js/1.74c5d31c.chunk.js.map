{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Steps/Steps.js","../node_modules/classnames/bind.js","components/Breadcrumb/Breadcrumb.module.scss","components/Steps/Steps.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","screens/Dashboard/screens/Applications/screens/CreateApplication/routes.js","components/Services/ServiceItem.js","components/Breadcrumb/Breadcrumb.js","screens/Dashboard/screens/Applications/screens/CreateApplication/CreateApplication.js"],"names":["_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","_arrayLikeToArray","arr","len","length","i","arr2","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","cx","classNames","bind","styles","Steps","steps","className","Steps__Wrapper","map","idx","label","href","active","isLastStep","stepClasses","Step","Step__Last","Step__Current","Step__Milestone","Step__Label","to","defaultProps","hasOwn","hasOwnProperty","classes","arguments","arg","argType","this","apply","key","join","module","exports","default","_toConsumableArray","arrayLikeToArray","iter","AddApplicationName","lazy","path","Component","exact","ServiceItem","Breadcrumb","items","activeClass","Breadcrumb__Item","Breadcrumb__Link_active","Breadcrumb__Link","mapDispatchToProps","fetchServices","createApplication","AuthenticatedHoc","connect","services","service","crumbs","servicesLoaded","history","entities","vendors","React","useState","setSelectedVendors","useEffect","keys","reduce","serviceMap","id","initialValues","applicationName","fallback","routes"],"mappings":"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","file":"static/js/1.74c5d31c.chunk.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Steps.module.scss\";\n\nimport classNames from \"classnames/bind\";\n\nlet cx = classNames.bind(styles);\n\nfunction Steps({ steps }) {\n  return (\n    <div className={styles.Steps__Wrapper}>\n      <ol className={styles.Steps}>\n        {steps.map(({ label, href, active }, idx) => {\n          const isLastStep = idx === steps.length - 1;\n          const stepWidth = 100 / (steps.length - 1);\n\n          let stepClasses = cx({\n            Step: true,\n            Step__Last: isLastStep,\n            Step__Current: active,\n          });\n\n          return (\n            <li className={stepClasses}>\n              <div className={styles.Step__Milestone}>\n                <i className=\"mdi mdi-check\" />\n              </div>\n              {active ? (\n                <span className={styles.Step__Label}>{label}</span>\n              ) : (\n                <Link to={href} className={styles.Step__Label}>\n                  {label}\n                </Link>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </div>\n  );\n}\n\nSteps.defaultProps = {\n  steps: [],\n};\n\nexport default Steps;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(this && this[arg] || arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(this, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(this && this[key] || key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Breadcrumb__Item\":\"Breadcrumb_Breadcrumb__Item__2Picn\",\"Breadcrumb__Link\":\"Breadcrumb_Breadcrumb__Link__3Jx1X\",\"Breadcrumb__Link_active\":\"Breadcrumb_Breadcrumb__Link_active__De8n4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Steps__Wrapper\":\"Steps_Steps__Wrapper__2mfyJ\",\"Steps\":\"Steps_Steps__3dzmf\",\"Step\":\"Steps_Step__AbZAt\",\"Step__Milestone\":\"Steps_Step__Milestone__2lXj2\",\"Step__Current\":\"Steps_Step__Current__WdK5m\",\"Step__Last\":\"Steps_Step__Last__1qFK1\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { lazy } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nconst AddApplicationName = lazy(() =>\n  import(\n    \"screens/Dashboard/screens/Applications/screens/CreateApplication/screens/AddApplicationName\"\n  )\n);\n\nconst PickServices = lazy(() =>\n  import(\n    \"screens/Dashboard/screens/Applications/screens/CreateApplication/screens/PickServices\"\n  )\n);\n\nexport default [\n  {\n    path: \"/dashboard/applications/create\",\n    label: \"Create\",\n    Component: AddApplicationName,\n  },\n  {\n    path: \"/dashboard/applications/create/pick-services\",\n    label: \"Pick services\",\n    exact: true,\n    Component: PickServices,\n  },\n  {\n    path: \"/dashboard/applications/create/add-keys\",\n    label: \"Add keys\",\n    exact: true,\n    Component: AddApplicationName,\n  },\n];\n","import React, { useState } from \"react\";\n\nfunction ServiceItem({\n  vendors,\n  service,\n  selectedVendors,\n  onVendorToggle,\n  onServiceToggle,\n}) {\n  const [opened, setOpened] = useState(false);\n  const serviceId = `customCheck-${service.id}`;\n\n  return (\n    <div className=\"card mb-2\" onClick={() => setOpened(!opened)}>\n      <div className=\"card-header\" id=\"headingFour\">\n        <div className=\"m-0\">\n          <div className=\"custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              name={service.id}\n              id={serviceId}\n              checked={selectedVendors.length}\n              disabled={!vendors.length}\n              onChange={() => onServiceToggle(service)}\n            />\n            <label className=\"custom-control-label\" htmlFor={serviceId}>\n              {service.label}\n            </label>\n            <i\n              className={`mdi mdi-chevron-${\n                opened ? \"right\" : \"down\"\n              } accordion-arrow`}\n            ></i>\n          </div>\n        </div>\n      </div>\n\n      <div\n        id=\"collapseFour\"\n        className={`collapse ${opened ? `show` : ``}`}\n        aria-labelledby=\"headingFour\"\n        data-parent=\"#custom-accordion-one\"\n      >\n        <div className=\"card-body\">\n          <div className=\"ml-2\">\n            {vendors.map((vendor, index) => {\n              const vendorKey = `${serviceId}-${vendor.id}`;\n              return (\n                <div className=\"custom-control custom-checkbox\" key={index}>\n                  <input\n                    type=\"checkbox\"\n                    name={`${vendor.id}`}\n                    className=\"custom-control-input\"\n                    checked={selectedVendors.includes(vendor.id)}\n                    onChange={() => onVendorToggle({ service, vendor })}\n                    id={vendorKey}\n                  />\n                  <label className=\"custom-control-label\" htmlFor={vendorKey}>\n                    <span className=\"mr-2\">\n                      <img style={{ width: \"8em   \" }} src={vendor.brand_url} />\n                    </span>\n                  </label>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default ServiceItem;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Breadcrumb.module.scss\";\n\nfunction Breadcrumb({ items }) {\n  return (\n    <ol className=\"breadcrumb\">\n      {items.map(({ label, href, active }, idx) => {\n        const activeClass = active ? \"active\" : \"\";\n\n        return (\n          <li\n            className={`breadcrumb-item ${activeClass} ${styles.Breadcrumb__Item}`}\n          >\n            {active ? (\n              <a className={styles.Breadcrumb__Link_active}>{label}</a>\n            ) : (\n              <Link to={href} className={styles.Breadcrumb__Link}>\n                {label}\n              </Link>\n            )}\n          </li>\n        );\n      })}\n    </ol>\n  );\n}\n\nBreadcrumb.defaultProps = {\n  items: [],\n};\n\nexport default Breadcrumb;\n","import React, { useEffect, lazy, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  BrowserRouter,\n  Redirect,\n  Route,\n  Switch,\n  useRouteMatch,\n} from \"react-router-dom\";\n\nimport { Formik, Form } from \"formik\";\n\nimport routes from \"./routes\";\nimport AuthenticatedHoc from \"HOC/WithAuthenticated\";\n// import \"./application.css\";\nimport { fetchServices } from \"services/application/service.slice\";\nimport { createApplication } from \"services/application/application.slice\";\n\nimport { RenderRoutes } from \"components/AppRouter\";\nimport { ServiceList } from \"components/Services\";\nimport { VendorSecretsForm } from \"components/Vendor\";\nimport Breadcrumb from \"components/Breadcrumb\";\nimport SectionTitle from \"components/SectionTitle\";\nimport Steps from \"components/Steps\";\n\nconst NotFound = lazy(() => import(\"screens/NotFound\"));\n\nconst CreateApplication = ({\n  crumbs,\n  fetchServices,\n  services,\n  createApplication,\n  history,\n}) => {\n  const servicesLoaded =\n    \"entities\" in services ? services.entities.services : {};\n  const vendorsLoaded = \"entities\" in services ? services.entities.vendors : {};\n\n  const [selectedVendors, setSelectedVendors] = React.useState({});\n\n  const [vendorSecrets, setVendorSecrets] = React.useState({});\n\n  const [step, setStep] = React.useState(0);\n\n  const [applicationName, setApplicationName] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!services.hasOwnProperty(\"entities\")) {\n      fetchServices();\n    } else {\n      setSelectedVendors({\n        ...Object.keys(servicesLoaded).reduce(\n          (serviceMap, service) => ({\n            ...serviceMap,\n            [servicesLoaded[service].id]: [...servicesLoaded[service].vendors],\n          }),\n          {}\n        ),\n      });\n    }\n  }, [services]);\n\n  const retrieveSelectedVendors = () => {\n    const selectedVendorIds = [\n      ...new Set(\n        Object.values(selectedVendors).reduce(\n          (flat, currentVendors) => [...flat, ...currentVendors],\n          []\n        )\n      ),\n    ];\n\n    return selectedVendorIds.map(\n      (selectedVendorId) => vendorsLoaded[selectedVendorId]\n    );\n  };\n\n  const handleInputChange = ({ target }) => {\n    setApplicationName(target.value);\n  };\n\n  const handleSubmit = () => {\n    const services = Object.keys(selectedVendors)\n      .filter((selectedVendorId) => selectedVendors[selectedVendorId].length)\n      .map((selectedVendorId) => ({\n        service_id: Number(selectedVendorId),\n        vendors: selectedVendors[selectedVendorId],\n      }));\n    const secrets = Object.keys(vendorSecrets).map(\n      (vendorId) => vendorSecrets[vendorId]\n    );\n\n    const payload = {\n      services,\n      vendor_secrets: secrets,\n      label: applicationName,\n    };\n\n    createApplication(payload, history);\n  };\n\n  const updateVendorSecret = (vendorSecret) => {\n    setVendorSecrets({\n      ...vendorSecrets,\n      [vendorSecret.vendor_id]: vendorSecret,\n    });\n  };\n\n  const formValues = {\n    applicationName: \"\",\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-12 my-3\">\n            <Breadcrumb items={crumbs} />\n          </div>\n        </div>\n      </div>\n      <Formik initialValues={formValues}>\n        <BrowserRouter>\n          <Suspense fallback={() => <>Loading...</>}>\n            <Switch>\n              <RenderRoutes routes={routes} />\n              <Redirect to=\"/dashboard\" />\n            </Switch>\n          </Suspense>\n        </BrowserRouter>\n      </Formik>\n\n      {/* <div className=\"row mt-2 py-5 justify-content-around align-items-center\">\n        <div className=\"col-lg-6\">\n          <section className=\"mb-5\">\n            <SectionTitle\n              title=\"It starts with a name.\"\n              message=\"A simple name is always a nice start.\"\n            />\n          </section>\n\n          <Steps steps={crumbs} />\n\n          <div className=\"card col-md-12 d-none  ml-5 mt-3\">\n            <div className=\"card-body h-100\">\n              {step == 0 && (\n                <div className=\" input-container\">\n                  <hr />\n                  <div className=\"form-group mt-4\">\n                    <label className=\" text-muted input-label\">\n                      Application Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"applicationName\"\n                      value={applicationName}\n                      onChange={handleInputChange}\n                      className=\"form-control col-12\"\n                      data-toggle=\"input-mask\"\n                      data-mask-format=\"00/00/0000\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {step === 1 && (\n                <div className=\" input-container pb-3\">\n                  <h3 className=\"m-0 font-weight-normal mb-2 bold cta-box-title info\">\n                    Add application services\n                  </h3>\n                  <p className=\"text-muted mt-3\">\n                    Select the services you would like to use for this\n                    application\n                  </p>\n                  <hr />\n                  <ServiceList\n                    className=\"mb-2\"\n                    services={servicesLoaded}\n                    vendors={vendorsLoaded}\n                    selectedVendors={selectedVendors}\n                    setSelectedVendors={setSelectedVendors}\n                  />\n                </div>\n              )}\n\n              {step === 2 && (\n                <div className=\" input-container\">\n                  <h3 className=\"m-0 font-weight-normal mb-2 bold cta-box-title mt-2 info\">\n                    Selected vendors for your application.\n                  </h3>\n                  <p className=\"text-muted mt-3\">\n                    Add your keys if you prefer using your existing keys. Your\n                    keys are encrypted and safe with us.\n                  </p>\n\n                  <hr />\n                  <div className=\"form-group mt-3\">\n                    <VendorSecretsForm\n                      updateVendorSecret={updateVendorSecret}\n                      vendorSecrets={vendorSecrets}\n                      vendors={retrieveSelectedVendors()}\n                    />\n                  </div>\n                </div>\n              )}\n\n              <div className=\"h-50 mt-2\">\n                <div\n                  className={`row  ${\n                    step == 0\n                      ? \"justify-content-end\"\n                      : \"justify-content-between\"\n                  }`}\n                >\n                  {step > 0 && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setStep(step - 1);\n                      }}\n                      className=\"btn btn-primary wizard-btn\"\n                    >\n                      Previous\n                    </button>\n                  )}\n                  {step < 2 && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setStep(step + 1);\n                      }}\n                      disabled={!applicationName.length}\n                      className=\"btn btn-primary wizard-btn\"\n                    >\n                      Next\n                    </button>\n                  )}\n\n                  {step === 2 && (\n                    <button\n                      type=\"button\"\n                      onClick={handleSubmit}\n                      className=\"btn btn-primary wizard-btn\"\n                    >\n                      Submit\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div> */}\n    </>\n  );\n};\n\nconst mapStateToProps = ({ service }) => {\n  return {\n    services: service.services,\n  };\n};\n\nconst mapDispatchToProps = { fetchServices, createApplication };\n\nexport default AuthenticatedHoc(\n  connect(mapStateToProps, mapDispatchToProps)(CreateApplication)\n);\n"],"sourceRoot":""}